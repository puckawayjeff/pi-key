===============================================================================
                         PI-KEY USAGE GUIDE
===============================================================================

QUICK START
-----------
1. Double-tap the button quickly to type your macro
2. Hold the button for 1+ seconds to activate keep-alive mode
3. Press the button again to exit keep-alive mode


CUSTOMIZING YOUR DEVICE
-----------------------
To change device behavior (macro, keep-alive, timing, colors):

1. UNPLUG the device
2. HOLD the button down
3. PLUG IN the device while holding the button
4. RELEASE the button after 1 second
5. The CIRCUITPY drive will appear on your computer
6. Edit the configuration files:
   - macro.txt: Text to type on double-press
   - keepalive.txt: Keystroke sequence for keep-alive mode
   - config.yaml: Timing, colors, USB device identity
7. SAVE the files
8. UNPLUG the device (it's ready to use!)


MACRO SYNTAX
------------
You can type plain text OR use special keyboard commands with {KEY} syntax:

PLAIN TEXT:
  Hello World

SPECIAL KEYS:
  Username{TAB}Password{ENTER}
  
  Types "Username", presses Tab, types "Password", presses Enter

KEY COMBINATIONS:
  {CTRL+C}          Copy selected text
  {CTRL+V}          Paste
  {CTRL+SHIFT+T}    Reopen closed browser tab
  {GUI+D}           Show desktop (Windows key + D)
  {ALT+TAB}         Switch windows


AVAILABLE SPECIAL KEYS
----------------------
Navigation:
  {UP}        {DOWN}      {LEFT}      {RIGHT}
  {HOME}      {END}       {PAGEUP}    {PAGEDOWN}

Editing:
  {ENTER}     {TAB}       {SPACE}     {BACKSPACE}
  {DELETE}    {ESC}

Modifiers (combine with other keys):
  {CTRL+...}    Control key
  {SHIFT+...}   Shift key
  {ALT+...}     Alt key
  {GUI+...}     Windows/Command/Super key
  {WIN+...}     Same as GUI (Windows key)
  {CMD+...}     Same as GUI (Command key on Mac)

You can combine multiple modifiers:
  {CTRL+SHIFT+T}
  {CTRL+ALT+DELETE}


EXAMPLE MACROS
--------------
Login to a website:
  myusername{TAB}mypassword{ENTER}

Fill out a form:
  John Smith{TAB}john@example.com{TAB}555-1234{ENTER}

Type multiple lines:
  Line 1{ENTER}Line 2{ENTER}Line 3

Open Task Manager (Windows):
  {CTRL+SHIFT+ESC}

Copy something and paste it twice:
  {CTRL+C}{CTRL+V}{CTRL+V}

Navigate and select text:
  {CTRL+HOME}{CTRL+SHIFT+END}


LED INDICATORS
--------------
Color flash:          Macro is being typed (default: purple)
Breathing LED:        Keep-alive mode active (default: amber)
Two color flashes:    Keep-alive mode exited (default: red)

Note: LED colors are configurable in config.yaml


CONFIGURATION FILE (config.yaml)
--------------------------------
The config.yaml file lets you customize device behavior without editing Python code.

TIMING SETTINGS:
  double_press_gap: 0.5       # Time window for double-press (seconds)
  long_press_duration: 1.0    # Hold time to activate keep-alive (seconds)
  keep_alive_min: 0.8         # Minimum interval between keep-alive keys
  keep_alive_max: 2.0         # Maximum interval between keep-alive keys

LED COLORS (hex codes or named colors):
  macro_color: purple         # Color for macro typing flash
  keepalive_color: amber      # Color for keep-alive breathing
  cancel_color: red           # Color for keep-alive exit flash
  
  Available named colors: red, green, blue, yellow, cyan, magenta, 
                         white, purple, amber, orange
  Hex code examples: #FF0000 (red), #00FF00 (green), #0000FF (blue)

USB DEVICE IDENTITY (Stealth Mode):
  usb_preset: dell_kb216      # Choose a preset keyboard
  
  Available presets:
    - dell_kb216 (Dell KB216 Wired Keyboard)
    - logitech_k120 (Logitech USB Keyboard)
    - hp_km100 (HP USB Keyboard)
    - microsoft_600 (Microsoft Wired Keyboard 600)
    - apple_keyboard (Apple Keyboard)
    - custom (define your own - see config.yaml for details)

KEEP-ALIVE FILE (keepalive.txt)
-------------------------------
The keepalive.txt file defines what keystroke sequence is sent repeatedly
during keep-alive mode. It uses the same {KEY} syntax as macro.txt.

Default: {SPACE}{LEFT_ARROW}
  This types Space then Left-Arrow, which neutralizes cursor movement.

Examples:
  {SPACE}{BACKSPACE}         # Space then backspace (no visible effect)
  {SHIFT}                    # Just press Shift (minimal impact)
  {F15}                      # Press F15 key (rarely used key)


TROUBLESHOOTING
---------------
Q: The drive doesn't appear when I plug it in
A: Hold the button WHILE plugging in the device, then release after 1 second

Q: My macro doesn't work
A: Check that special keys are wrapped in {BRACES} with correct spelling

Q: How do I type a literal { or } character?
A: Use double braces: {{ for { and }} for }
   Example: To type "Python {dict}", use: Python {{dict}}

Q: The device types random spaces
A: That's keep-alive mode! Press the button once to exit it


===============================================================================
For more information, visit: https://github.com/puckawayjeff/pi-key
===============================================================================
